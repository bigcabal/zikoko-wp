$(document).ready(function(){function e(e,t,a){for(var r=e.split(" "),n="",l=360,i=40,f=0;f<r.length;f++){var c=n+r[f]+" ",m=o.measureText(c),d=m.width;d>l&&f>0?(o.fillText(n,30,t),n=r[f]+" ",t+=25,i+=25):n=c}o.fillText(n,30,t),a(i)}function t(e,t,a){for(var r,o=0;1e3>o;o++){var l=Math.floor(Math.random()*n.length);if(n[l].gender===t|"any"===n[l].gender&&n[l].country===a|"any"===n[l].country){r=n[l];break}}for(var i=r.sentence,i=i.replace(/{{name}}/g,e),i=i.split("."),o=0;o<i.length;o++){{i[o].charAt(0)}" "===i[o].charAt(0)?i[o]=i[o].slice(1)+".":i[o]+="."}return i}function a(a,r){var n,l=document.getElementById("logo");n=document.getElementById("male"===r?"figure-male":"figure-female");var i=t(a,r);o.fillStyle="#fff",o.fillRect(0,0,600,350),o.lineWidth="6",o.strokeStyle="#8235b6",o.rect(0,0,600,350),o.stroke(),o.drawImage(n,460,50),o.drawImage(l,30,300),o.font="18px Montserrat",o.fillStyle="#000";for(var f=50,c=0;c<i.length;c++)e(i[c],f,function(e){f+=e})}var r=document.getElementById("beLikeZikoko"),o=r.getContext("2d"),n=ajaxinfo;$("#generateMeme").on("click",function(e){{var t=$('input[name="name"]').val(),o=$('select[name="gender"]').val();$('select[name="country"]').val()}a(t,o);var n=window.location.href,l="Be like "+t+". See your story.",i=r.toDataURL("image/png");return $("li.download a").attr("href",i),$("li.facebook a").attr("href","https://facebook.com/dialog/feed?app_id=593692017438309&link="+n+"&name="+l+"&redirect_uri="+n),$("li.twitter a").attr("href","https://twitter.com/intent/tweet/?text="+l+"&url="+n+"&via=zikokomag&related=zikokomag"),$("head").append('<meta property="og:image" content="'+i+'"'),$("li.repeat a").attr("href",window.location.href),$("#beLikeZikokoImg").attr("src",i),$(".belike-result").show(),$("html, body").animate({scrollTop:$(".belike-result").offset().top-20},500),!1})});